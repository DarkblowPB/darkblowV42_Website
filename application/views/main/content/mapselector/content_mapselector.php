<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="">
	<meta name="keywords" content="PB, point blank, fps, shooting game, online" />
	<meta name="description" content="Point Blank Beyond Limits Map Selector" />
	<title>
		<?= $this->darkblowsettings->load()->project_name . ' || ' . $title ?>
	</title>
	<link rel="stylesheet" type="text/css" href="<?= base_url() ?>assets/goodgames/assets/css/mapselector2021.css">
	<script src="<?= base_url() ?>assets/goodgames/assets/vendor/jquery/dist/jquery.min.js"></script>
	<script src="<?= base_url() ?>assets/goodgames/assets/js/TweenMax.min.js"></script><!-- roulette -->
	<script type="text/javascript" src="<?= base_url() ?>assets/goodgames/assets/js/design_winwheel.js"></script><!-- roulette -->
	<!-- TikTok Pixel Code End -->
</head>

<body>
	<header>
		<h2><a href="<?= base_url('home') ?>"><img src="<?= base_url() ?>assets/goodgames/assets/images/settings/<?= $this->darkblowsettings->load()->project_logo ?>" alt="Point Blank Beyond Limits"></a></h2>
		<h1><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/title.png" alt="Map Selector"></h1>
		<p class="btn_reset"><button type="button" onclick="javascript:resetPage();">RESET</button></p>
	</header>

	<div class="effect effect01">
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
	</div>

	<div class="effect effect02">
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
	</div>

	<div class="effect effect03">
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
		<ul>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
			<li class="cell"></li>
		</ul>
	</div>

	<section class="container">
		<ul class="map_list">
			<li class="map1"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map1_dis.png" alt="CargoShip"><input type="checkbox" name="maplist" id="map1" class="chkmap" value="1" /><label for="map1"></label></li>
			<li class="map2"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map2_dis.png" alt="Luxville"><input type="checkbox" name="maplist" id="map2" class="chkmap" value="2" /><label for="map2"></label></li>
			<li class="map3"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map3_dis.png" alt="Downtown"><input type="checkbox" name="maplist" id="map3" class="chkmap" value="3" /><label for="map3"></label></li>
			<li class="map4"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map4_dis.png" alt="Blowcity"><input type="checkbox" name="maplist" id="map4" class="chkmap" value="4" /><label for="map4"></label></li>
			<li class="map5"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map5_dis.png" alt="Stromtube"><input type="checkbox" name="maplist" id="map5" class="chkmap" value="5" /><label for="map5"></label></li>
			<li class="map6"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map6_dis.png" alt="Sandstorm"><input type="checkbox" name="maplist" id="map6" class="chkmap" value="6" /><label for="map6"></label></li>
			<li class="map7"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map7_dis.png" alt="Midtown"><input type="checkbox" name="maplist" id="map7" class="chkmap" value="7" /><label for="map7"></label></li>
			<li class="map8"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map8_dis.png" alt="Provence"><input type="checkbox" name="maplist" id="map8" class="chkmap" value="8" /><label for="map8"></label></li>
			<li class="map9"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map9_dis.png" alt="Safehouse"><input type="checkbox" name="maplist" id="map9" class="chkmap" value="9" /><label for="map9"></label></li>


			<li class="map10"><input type="checkbox" name="maplist" id="map10" class="chkmap" value="10" /><label for="map10"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map10_dis.png" alt="SentryBase"></li>
			<li class="map11"><input type="checkbox" name="maplist" id="map11" class="chkmap" value="11" /><label for="map11"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map11_dis.png" alt="Mall"></li>
			<li class="map12"><input type="checkbox" name="maplist" id="map12" class="chkmap" value="12" /><label for="map12"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map12_dis.png" alt="Outpost"></li>
			<li class="map13"><input type="checkbox" name="maplist" id="map13" class="chkmap" value="13" /><label for="map13"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map13_dis.png" alt="Hospital"></li>
			<li class="map14"><input type="checkbox" name="maplist" id="map14" class="chkmap" value="14" /><label for="map14"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map14_dis.png" alt="Airport"></li>
			<li class="map15"><input type="checkbox" name="maplist" id="map15" class="chkmap" value="15" /><label for="map15"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map15_dis.png" alt="Cemetery"></li>
			<li class="map16"><input type="checkbox" name="maplist" id="map16" class="chkmap" value="16" /><label for="map16"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map16_dis.png" alt="Gustav"></li>
			<li class="map17"><input type="checkbox" name="maplist" id="map17" class="chkmap" value="17" /><label for="map17"></label><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map17_dis.png" alt="For Santiago"></li>
		</ul>
		<div class="map_selector">
			<!-- button click prevent<p class="dim_block">&nbsp;</p> -->
			<div>
				<p class="btn_start">
					<button type="button" id="spin_button" onClick="startSpin();"><span>Start</span></button>
				</p>
				<p class="arrow"><img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/arrow.png" alt="Stop"></p>
				<canvas id="canvas" width="720" height="720"></canvas>
			</div>
		</div>
	</section>
	<!-- layerpop (map) -->
	<div class="popup">
		<p class="dimmed">&nbsp;</p>
		<p class="btn_close"><button type="button">Tutup</button></p>
		<div class="pop_map">
			<div class="title">
				<h3>Map Name</h3>
				<div class="bar bar01">
					<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/bar1.png">
					<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/bar2.png">
					<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/bar3.png">
				</div>
				<div class="bar bar02">
					<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/bar3.png">
					<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/bar2.png">
					<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/bar1.png">
				</div>
			</div>
			<p class="map">
				<img src="#" alt="" id="map_image">
			</p>
			<div class="round">
				<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/back_pop01.png" class="round1">
				<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/back_pop02.png" class="round2">
				<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/back_pop03.png" class="round3">
				<img src="<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/back_pop04.png" class="round4">
			</div>

		</div>
	</div>
	<!-- layerpop (map) //-->

	<footer>Copyright PT. Zepetto Interactive Indonesia All rights reserved.</footer>
</body>

<!-- Mirrored from pointblank.id/mapselector2 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Oct 2021 17:10:21 GMT -->

</html>
<script type="text/javascript">
	//<![CDATA[
	var selIdx = -1;
	var mapbox = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17];

	$(document).ready(function() {
		$(".popup .dimmed, .popup .btn_close > button").on("click", function() {
			$(".popup").hide();
			$("#map_image").attr("src", "<?= base_url() ?>assets/goodgames/assets/images/mapselector/img_blank.png");
			resetWheel();
		});

		$(".chkmap").click(function() {
			mapSetting($(this).val());
		});
		resetPage();
	});

	// Create new wheel object specifying the parameters at creation time.
	let theWheel = new Winwheel({
		'numSegments': 17, // Specify number of segments.
		'outerRadius': 632, // Set outer radius so wheel fits inside the background.
		'drawMode': 'segmentImage', // drawMode must be set to image.
		'drawText': true, // Need to set this true if want code-drawn text on image wheels.
		'textFontSize': 0, // Set text options as desired.
		'textOrientation': 'curved',
		'textDirection': 'reversed',
		'textAlignment': 'inner',
		'textMargin': 5,
		'textFontFamily': 'Teko',
		'textStrokeStyle': 'black',
		'textLineWidth': 2,
		'textFillStyle': 'white',
		'segments': // Define segments.
			[{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/1_dis.png',
					'text': 'CargoShip'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/2_dis.png',
					'text': 'Luxville'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/3_dis.png',
					'text': 'Downtown'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/4_dis.png',
					'text': 'Blowcity'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/5_dis.png',
					'text': 'Stormtube'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/6_dis.png',
					'text': 'Sandstorm'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/7_dis.png',
					'text': 'Midtown'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/8_dis.png',
					'text': 'Provence'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/9_dis.png',
					'text': 'Safehouse'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/10_dis.png',
					'text': 'SentryBase'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/11_dis.png',
					'text': 'Mall'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/12_dis.png',
					'text': 'Outpost'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/13_dis.png',
					'text': 'Hospital'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/14_dis.png',
					'text': 'Airport'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/15_dis.png',
					'text': 'Cemetery'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/16_dis.png',
					'text': 'Gustav'
				},
				{
					'image': '<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/17_dis.png',
					'text': 'Fort Santiago'
				}
			],
		'animation': // Specify the animation to use.
		{
			'type': 'spinToStop',
			'duration': 10, // Duration in seconds.
			'spins': 15, // Number of complete spins.
			'callbackFinished': alertPrize
		}
	});

	// Create new image object in memory.
	//let loadedImg = new Image();

	// Create callback to execute once the image has finished loading.
	/*loadedImg.onload = function()
	{
	    theWheel.wheelImage = loadedImg;    // Make wheelImage equal the loaded image object.
	    theWheel.draw();                    // Also call draw function to render the wheel.
	}

	// Set the image source, once complete this will trigger the onLoad callback (above).
	loadedImg.src = "/<?= base_url() ?>assets/goodgames/assets/images/mapselector/roulette.png";*/

	// Vars used by the code in this page to do power controls.
	let wheelPower = 0;
	let wheelSpinning = false;

	// -------------------------------------------------------
	// Click handler for spin button.
	// -------------------------------------------------------
	function startSpin() {
		// Ensure that spinning can't be clicked again while already running.
		if (wheelSpinning == false) {
			if (mapbox.length < 1) {
				alert("Tidak ada map yang dipilih, mohon untuk memilih map.");
				return;
			}
			// Based on the power level selected adjust the number of spins for the wheel, the more times is has
			// to rotate with the duration of the animation the quicker the wheel spins.
			if (wheelPower == 1) {
				theWheel.animation.spins = 2;
			} else if (wheelPower == 2) {
				theWheel.animation.spins = 5;
			} else if (wheelPower == 3) {
				theWheel.animation.spins = 8;
			}

			// Disable the spin button so can't click again while wheel is spinning.
			document.getElementById('spin_button').src = "spin_off.html";
			document.getElementById('spin_button').className = "";

			selIdx = Math.floor(Math.random() * mapbox.length);

			var mapno = mapbox[selIdx];

			theWheel.animation.stopAngle = getStopAngle(17, mapno);

			// Begin the spin animation by calling startAnimation on the wheel object.
			theWheel.startAnimation();

			// Set to true so that power can't be changed and spin button re-enabled during
			// the current animation. The user will have to reset before spinning again.
			wheelSpinning = true;
		}
	}

	// -------------------------------------------------------
	// Function for reset button.
	// -------------------------------------------------------
	function resetWheel() {
		theWheel.stopAnimation(false); // Stop the animation, false as param so does not call callback function.
		theWheel.rotationAngle = 0; // Re-set the wheel angle to 0 degrees.
		theWheel.draw(); // Call draw to render changes to the wheel.

		wheelSpinning = false; // Reset to false to power buttons and spin can be clicked again.

		//select piece block
		$("#map" + mapbox[selIdx]).prop("checked", false);
		mapSetting($("#map" + mapbox[selIdx]).val());

		/*console.log("=========================");
		for(var i=0; i<mapbox.length; i++) {
			console.log(i+" : "+mapbox[i]);
		}
		console.log("=========================");*/
	}

	// -------------------------------------------------------
	// Called when the spin animation has finished by the callback feature of the wheel because I specified callback in the parameters.
	// note the indicated segment is passed in as a parmeter as 99% of the time you will want to know this to inform the user of their prize.
	// -------------------------------------------------------
	function alertPrize(indicatedSegment) {
		//var map = $("#map"+mapbox[selIdx]).val().split("|");
		//$("#map_image").hide();
		// Do basic alert of the segment text. You would probably want to do something more interesting with this information.

		$(".pop_map").children(".title").children("h3").html(indicatedSegment.text);
		$("#map_image").attr("src", "<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/img_" + $.trim(indicatedSegment.text.toLowerCase().replace(/ /gi, "")) + ".png");
		$("#map_image").attr("alt", indicatedSegment.text);

		//$("#map_image").show();
		$(".popup").show();
	}

	function getStopAngle(kinds, prize) {
		var angle;
		var unit;
		var rtn;

		unit = 360 / kinds;

		angle = (prize - 1) * unit + (unit / 2);
		rtn = Math.round(angle * 100) / 100;

		return rtn;
	}

	function resetPage() {
		$(".chkmap").each(function() {
			if (!$(this).prop("checked")) {
				$(this).prop("checked", true);
				mapSetting($(this).val());
			}
		});
	}

	function mapSetting(mapIdx) {
		//var map = val.split("|");

		if ($("#map" + mapIdx).is(":checked")) {
			theWheel.segments[mapIdx].changeImage('<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/' + mapIdx + '.png');
			$("li.map" + mapIdx).children("img").attr("src", "<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map" + mapIdx + ".png");
			$("li.map" + mapIdx).removeClass("dis");
			$("li.map" + mapIdx).addClass("on");

			const idx = mapbox.indexOf(parseInt(mapIdx))
			if (idx < 0) {
				mapbox.push(parseInt(mapIdx));
				mapbox.sort(function(a, b) {
					return a - b;
				});
			}

		} else {
			theWheel.segments[mapIdx].changeImage('<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/' + mapIdx + '_dis.png');
			$("li.map" + mapIdx).children("img").attr("src", "<?= base_url() ?>assets/goodgames/assets/images/mapselector/2021/map" + mapIdx + "_dis.png");
			$("li.map" + mapIdx).removeClass("on");
			$("li.map" + mapIdx).addClass("dis");

			const idx = mapbox.indexOf(parseInt(mapIdx))
			if (idx > -1) mapbox.splice(idx, 1)
		}
	}
	//]]>
</script>